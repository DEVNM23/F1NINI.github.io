(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{1201:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(5155),n=s(2596);function l(e){let{position:t,teamColor:s,short:l,className:i}=e;return(0,a.jsxs)("div",{id:"walkthrough-driver-position",className:(0,n.A)("flex w-fit items-center justify-between gap-0.5 rounded-lg bg-zinc-500 px-1 py-1 font-black",i),style:{backgroundColor:"#".concat(s)},children:[t&&(0,a.jsx)("p",{className:"px-1 text-xl leading-none",children:t}),(0,a.jsx)("div",{className:"flex h-min w-min items-center justify-center rounded-md bg-white px-1",children:(0,a.jsx)("p",{className:"font-mono text-zinc-500",style:{...s&&{color:"#".concat(s)}},children:l})})]})}},1490:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(5155),n=s(2596),l=s(3055),i=s(6352);function r(e){let{id:t,className:s,options:r,selected:o,onSelect:c}=e;return(0,a.jsx)(l.o,{children:(0,a.jsx)(i.P.div,{id:t,layoutRoot:!0,className:(0,n.A)("m-0 inline-flex h-fit justify-between rounded-lg bg-zinc-800 p-0.5",s),children:r.map(e=>{let s=e.value===o;return(0,a.jsx)(i.P.div,{className:"relative mb-0 leading-none",whileTap:s?{scale:.95}:{opacity:.6},children:(0,a.jsxs)("button",{onClick:()=>c?c(e.value):void 0,className:"relative m-0 border-none bg-transparent px-5 py-2 leading-none",children:[s&&(0,a.jsx)(i.P.div,{layoutDependency:s,layoutId:"segment-".concat(t),className:"absolute top-0 right-0 bottom-0 left-0 z-1 rounded-md bg-zinc-600"}),(0,a.jsx)("span",{className:"relative z-2",children:e.label})]})},e.label)})})})}var o=s(3741);function c(e){let{value:t,setValue:s,className:l}=e;return(0,a.jsx)("input",{type:"range",value:t,className:(0,n.A)("h-2 w-full cursor-pointer appearance-none rounded-lg bg-zinc-800",l),onChange:e=>s(Number(e.target.value))})}function d(e){let{value:t,setValue:s}=e;return(0,a.jsx)("input",{className:(0,n.A)("w-12 [appearance:textfield] rounded-lg bg-zinc-800 p-1 text-center text-sm [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"),type:"text",value:t,onChange:e=>s(e.target.value)})}var h=s(2115),u=s(6766);let x={src:"/_next/static/media/xmark.dc91d8ae.svg",height:24,width:24,blurWidth:0,blurHeight:0};var m=s(3988),p=s(2263),v=s(1201),f=s(8570);function g(e){let{placeholder:t,options:s,selected:l,setSelected:i}=e,[r,o]=(0,h.useState)(""),c=""===r?s:s.filter(e=>e.label.toLowerCase().includes(r.toLowerCase()));return(0,a.jsxs)(f.G3,{value:l,onChange:e=>i(e),onClose:()=>o(""),multiple:!0,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.oK,{placeholder:t,className:(0,n.A)("w-full rounded-lg border-none bg-zinc-900 py-1.5 pr-8 pl-3 text-sm/6 text-white","focus:outline-hidden data-focus:outline-2 data-focus:-outline-offset-2 data-focus:outline-zinc-700"),displayValue:e=>{var t;return null!=(t=null==e?void 0:e.label)?t:""},onChange:e=>o(e.target.value)}),(0,a.jsx)(f.i7,{className:"group absolute inset-y-0 right-0 px-2.5"})]}),(0,a.jsx)(f.Kc,{anchor:"bottom",className:(0,n.A)("w-[var(--input-width)] rounded-xl border border-white/5 bg-zinc-900 p-1 [--anchor-gap:var(--spacing-1)] empty:invisible","z-50 mt-1 transition duration-100 ease-in data-leave:data-closed:opacity-0"),children:c.slice(0,5).map((e,t)=>(0,a.jsx)(f.jO,{value:e.value,className:"group flex cursor-pointer items-center gap-2 rounded-lg px-3 py-1.5 select-none data-focus:bg-white/10",children:(0,a.jsx)("div",{className:"text-sm/6 text-white",children:e.label})},t))})]})}function b(){let[e,t]=(0,h.useState)(null),[s,n]=(0,h.useState)(null),{favoriteDrivers:l,setFavoriteDrivers:r,removeFavoriteDriver:o}=(0,p.C)();return(0,h.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(m._.NEXT_PUBLIC_LIVE_URL,"/api/drivers")),s=await e.json();t(s)}catch(e){n("failed to fetch favorite drivers")}})()},[]),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex gap-2",children:l.map(t=>{let s=null==e?void 0:e.find(e=>e.racingNumber===t);return s?(0,a.jsxs)("div",{className:"flex items-center gap-1 rounded-xl border border-zinc-800 p-1",children:[(0,a.jsx)(v.A,{teamColor:s.teamColour,short:s.tla}),(0,a.jsx)(i.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(t),children:(0,a.jsx)(u.default,{src:x,alt:"x",width:30})})]},t):null})}),(0,a.jsx)("div",{className:"w-80",children:(0,a.jsx)(g,{placeholder:"Select favorite drivers",options:e?e.map(e=>({label:e.fullName,value:e.racingNumber})):[],selected:l,setSelected:r})})]})}var w=s(9551),j=s(7752),N=s(2426);function C(e){let{enabled:t,setEnabled:s}=e;return(0,a.jsx)(N.dO.Group,{as:"div",className:"",children:(0,a.jsx)(N.dO,{checked:t,onChange:s,className:(0,n.A)(t?"bg-indigo-500":"bg-zinc-800","relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out"),children:(0,a.jsx)("span",{"aria-hidden":"true",className:(0,n.A)(t?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out")})})})}var y=s(6821);function S(){let e=(0,p.C)();return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"mb-4 text-3xl",children:"Settings"}),(0,a.jsx)("h2",{className:"my-4 text-2xl",children:"Visual"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.carMetrics,setEnabled:t=>e.setCarMetrics(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Show Car Metrics (RPM, Gear, Speed)"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.showCornerNumbers,setEnabled:t=>e.setShowCornerNumbers(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Show Corner Numbers on Track Map"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.tableHeaders,setEnabled:t=>e.setTableHeaders(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Show Driver Table Header"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.showBestSectors,setEnabled:t=>e.setShowBestSectors(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Show Drivers Best Sectors"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.showMiniSectors,setEnabled:t=>e.setShowMiniSectors(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Show Drivers Mini Sectors"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.oledMode,setEnabled:t=>e.setOledMode(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"OLED Mode (Pure Black Background)"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.useSafetyCarColors,setEnabled:t=>e.setUseSafetyCarColors(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Use Safety Car Colors"})]}),(0,a.jsx)("h2",{className:"my-4 text-2xl",children:"Race Control"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{enabled:e.raceControlChime,setEnabled:t=>e.setRaceControlChime(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Play Chime on new Race Control Message"})]}),e.raceControlChime&&(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsx)(d,{value:String(e.raceControlChimeVolume),setValue:t=>{let s=Number(t);isNaN(s)||e.setRaceControlChimeVolume(s)}}),(0,a.jsx)(c,{className:"!w-52",value:e.raceControlChimeVolume,setValue:t=>e.setRaceControlChimeVolume(t)}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Race Control Chime Volume"})]}),(0,a.jsx)("h2",{className:"my-4 text-2xl",children:"Favorite Drivers"}),(0,a.jsx)("p",{className:"mb-4",children:"Select your favorite drivers to highlight them on the dashboard."}),(0,a.jsx)(b,{}),(0,a.jsx)("h2",{className:"my-4 text-2xl",children:"Speed Metric"}),(0,a.jsx)("p",{className:"mb-4",children:"Choose the unit in which you want to display speeds."}),(0,a.jsx)(r,{id:"speed-unit",selected:e.speedUnit,onSelect:e.setSpeedUnit,options:[{label:"km/h",value:"metric"},{label:"mp/h",value:"imperial"}]}),(0,a.jsx)("h2",{className:"my-4 text-2xl",children:"Delay"}),(0,a.jsx)("p",{className:"mb-4",children:"Here you have to option to set a delay for the data, it will displayed the amount entered in seconds later than on the live edge. On the Dashboard page there is the same delay input field so you can set it without going to the settings. It can be found in the most top bar on the right side."}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{}),(0,a.jsx)(w.A,{}),(0,a.jsx)("p",{className:"text-zinc-500",children:"Delay in seconds"})]}),(0,a.jsx)(o.default,{className:"mt-2 bg-red-500!",onClick:()=>e.setDelay(0),children:"Reset delay"}),(0,a.jsx)(y.A,{})]})}},2263:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var a=s(6786);let n=(0,s(5453).v)()((0,a.eh)((0,a.Zr)(e=>({delay:0,setDelay:t=>e({delay:t}),speedUnit:"metric",setSpeedUnit:t=>e({speedUnit:t}),showCornerNumbers:!1,setShowCornerNumbers:t=>e({showCornerNumbers:t}),carMetrics:!1,setCarMetrics:t=>e({carMetrics:t}),tableHeaders:!1,setTableHeaders:t=>e({tableHeaders:t}),showBestSectors:!0,setShowBestSectors:t=>e({showBestSectors:t}),showMiniSectors:!0,setShowMiniSectors:t=>e({showMiniSectors:t}),oledMode:!1,setOledMode:t=>e({oledMode:t}),useSafetyCarColors:!0,setUseSafetyCarColors:t=>e({useSafetyCarColors:t}),favoriteDrivers:[],setFavoriteDrivers:t=>e({favoriteDrivers:t}),removeFavoriteDriver:t=>e(e=>({favoriteDrivers:e.favoriteDrivers.filter(e=>e!==t)})),raceControlChime:!1,setRaceControlChime:t=>e({raceControlChime:t}),raceControlChimeVolume:50,setRaceControlChimeVolume:t=>e({raceControlChimeVolume:t}),delayIsPaused:!0,setDelayIsPaused:t=>e({delayIsPaused:t})}),{name:"settings-storage",storage:(0,a.KU)(()=>localStorage),onRehydrateStorage:e=>()=>e.setDelayIsPaused(!1)})))},3741:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),n=s(6352),l=s(2596);function i(e){let{children:t,onClick:s,className:i}=e;return(0,a.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:(0,l.A)(i,"rounded-lg bg-zinc-800 p-2 text-center leading-none text-white"),onClick:s,children:t})}},3988:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var a=s(5594),n=s(9509);let l=a.z.object({NODE_ENV:a.z.enum(["development","test","production"]),API_URL:a.z.string().min(1).includes("http"),TRACKING_ID:a.z.string().optional(),TRACKING_URL:a.z.string().includes("http").optional(),DISABLE_IFRAME:a.z.string().optional()}),i=a.z.object({NEXT_PUBLIC_LIVE_URL:a.z.string().min(1).includes("http")}),r={NODE_ENV:"production",API_URL:n.env.API_URL,TRACKING_ID:n.env.TRACKING_ID,TRACKING_URL:n.env.TRACKING_URL,DISABLE_IFRAME:n.env.DISABLE_IFRAME,NEXT_PUBLIC_LIVE_URL:"https://devnm23.github.io"},o="__ENV";l.merge(i);let c=n.env;if("1"!==n.env.SKIP_ENV_VALIDATION){let e=void 0!==window[o]?window[o]:r,t=i.safeParse(e);if(!t.success)throw console.error("❌ Invalid environment variables:",t.error.flatten().fieldErrors),Error("Invalid environment variables");c=new Proxy(t.data,{get(e,t){if("string"==typeof t){if(!t.startsWith("NEXT_PUBLIC_"))throw Error("❌ Attempted to access a server-side environment variable on the client");return e[t]}}})}},5977:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155),n=s(2596),l=s(5084),i=s(6352);function r(e){let{id:t,className:s,playing:r,loading:o=!1,onClick:c}=e,d={initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5}};return(0,a.jsx)("div",{id:t,className:(0,n.$)("flex h-8 w-8 cursor-pointer items-center justify-center",s),onClick:c,children:(0,a.jsxs)(l.N,{children:[!r&&!o&&(0,a.jsx)(i.P.svg,{initial:d.initial,animate:d.animate,exit:d.exit,width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(i.P.path,{d:"M12 6.26795C13.3333 7.03775 13.3333 8.96225 12 9.73205L3 14.9282C1.66667 15.698 0 14.7358 0 13.1962L0 2.80385C0 1.26425 1.66667 0.301996 3 1.0718L12 6.26795Z",fill:"white"})}),r&&(0,a.jsxs)(i.P.svg,{initial:d.initial,animate:d.animate,exit:d.exit,width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)(i.P.rect,{x:"7",width:"3",height:"14",rx:"1.5",fill:"white"}),(0,a.jsx)(i.P.rect,{width:"3",height:"14",rx:"1.5",fill:"white"})]}),!r&&o&&(0,a.jsxs)(i.P.svg,{initial:d.initial,animate:d.animate,exit:d.exit,width:"24",height:"24",viewBox:"0 0 24 24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{className:"pulse-loading-spinner",cx:"12",cy:"12",r:"0"}),(0,a.jsx)("circle",{className:"pulse-loading-spinner",style:{animationDelay:".6s"},cx:"12",cy:"12",r:"0"})]})]})})}},6821:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),n=s(6874),l=s.n(n);function i(){return(0,a.jsxs)("footer",{className:"my-8 text-sm text-zinc-500",children:[(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[(0,a.jsxs)("p",{children:["Made with ♥ by ",(0,a.jsx)(r,{website:"https://slowly.dev",children:"Slowly"}),"."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(r,{website:"https://www.buymeacoffee.com/slowlydev",children:"Buy me a coffee"})," to support me."]}),(0,a.jsxs)("p",{children:["Contribute on ",(0,a.jsx)(r,{website:"https://github.com/slowlydev/f1-dash",children:"GitHub"}),"."]}),(0,a.jsxs)("p",{children:["Check out the Community ",(0,a.jsx)(r,{website:"https://discord.gg/unJwu66NuB",children:"Discord"}),"."]}),(0,a.jsxs)("p",{children:["Get"," ",(0,a.jsx)(l(),{className:"text-blue-500",href:"/help",children:"Help"}),"."]}),(0,a.jsxs)("p",{children:["Version: ","3.2.0"]})]}),(0,a.jsx)("p",{children:"This project/website is unofficial and is not associated in any way with the Formula 1 companies. F1, FORMULA ONE, FORMULA 1, FIA FORMULA ONE WORLD CHAMPIONSHIP, GRAND PRIX and related marks are trademarks of Formula One Licensing B.V."})]})}let r=e=>{let{website:t,children:s}=e;return(0,a.jsx)("a",{className:"text-blue-500",target:"_blank",href:t,children:s})}},6906:(e,t,s)=>{Promise.resolve().then(s.bind(s,1490))},7752:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155),n=s(2115),l=s(2263),i=s(5977);function r(){let e=(0,n.useRef)(null),t=(0,n.useRef)(0),s=(0,l.C)(e=>e.setDelay),r=(0,l.C)(e=>e.delay),o=(0,l.C)(e=>e.setDelayIsPaused),c=(0,l.C)(e=>e.delayIsPaused);return(0,a.jsx)(i.A,{playing:!c,onClick:()=>{c?(e.current&&(clearInterval(e.current),e.current=null),o(!1)):(t.current=Date.now()-1e3*r,e.current=setInterval(()=>{s(Math.floor((Date.now()-t.current)/1e3))},100),o(!0))}})}},9551:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155),n=s(2596),l=s(2115),i=s(2263);function r(e){let{className:t,saveDelay:s}=e,r=(0,i.C)(e=>e.delay),o=(0,i.C)(e=>e.setDelay),c=(0,i.C)(e=>e.delayIsPaused),[d,h]=(0,l.useState)(r.toString()),u=(0,l.useRef)(null),x=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=d?Math.max(parseInt(d),0):0;o(t),e&&h(t.toString())};(0,l.useEffect)(()=>{c||(u.current&&clearTimeout(u.current),u.current=setTimeout(x,s||0))},[d]),(0,l.useEffect)(()=>{c||h(r.toString())},[c]),(0,l.useEffect)(()=>{c&&h(r.toString())},[r]);let m=e=>{h(e)};return(0,a.jsx)("input",{className:(0,n.A)("w-12 [appearance:textfield] rounded-lg bg-zinc-800 p-1 text-center text-sm disabled:opacity-50 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",t),type:"number",inputMode:"numeric",min:0,placeholder:"0s",value:d,onChange:e=>m(e.target.value),onKeyDown:e=>"Enter"==e.code&&x(!0),onBlur:()=>x(!0),disabled:c})}}},e=>{var t=t=>e(e.s=t);e.O(0,[545,457,63,874,915,227,826,441,684,358],()=>t(6906)),_N_E=e.O()}]);