(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{1638:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(5155),a=s(2596),l=s(6766);function n(e){let{countryCode:t,className:s}=e;return(0,r.jsx)("div",{className:(0,a.$)("flex h-12 w-16 content-center justify-center",s),children:t?(0,r.jsx)(l.default,{src:"/country-flags/".concat(t.toLowerCase(),".","svg"),alt:t,width:64,height:48,className:"overflow-hidden rounded-lg"}):(0,r.jsx)("div",{className:"h-full w-full animate-pulse overflow-hidden rounded-lg bg-zinc-800"})})}},2263:(e,t,s)=>{"use strict";s.d(t,{C:()=>a});var r=s(6786);let a=(0,s(5453).v)()((0,r.eh)((0,r.Zr)(e=>({delay:0,setDelay:t=>e({delay:t}),speedUnit:"metric",setSpeedUnit:t=>e({speedUnit:t}),showCornerNumbers:!1,setShowCornerNumbers:t=>e({showCornerNumbers:t}),carMetrics:!1,setCarMetrics:t=>e({carMetrics:t}),tableHeaders:!1,setTableHeaders:t=>e({tableHeaders:t}),showBestSectors:!0,setShowBestSectors:t=>e({showBestSectors:t}),showMiniSectors:!0,setShowMiniSectors:t=>e({showMiniSectors:t}),oledMode:!1,setOledMode:t=>e({oledMode:t}),useSafetyCarColors:!0,setUseSafetyCarColors:t=>e({useSafetyCarColors:t}),favoriteDrivers:[],setFavoriteDrivers:t=>e({favoriteDrivers:t}),removeFavoriteDriver:t=>e(e=>({favoriteDrivers:e.favoriteDrivers.filter(e=>e!==t)})),raceControlChime:!1,setRaceControlChime:t=>e({raceControlChime:t}),raceControlChimeVolume:50,setRaceControlChimeVolume:t=>e({raceControlChimeVolume:t}),delayIsPaused:!0,setDelayIsPaused:t=>e({delayIsPaused:t})}),{name:"settings-storage",storage:(0,r.KU)(()=>localStorage),onRehydrateStorage:e=>()=>e.setDelayIsPaused(!1)})))},3988:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var r=s(5594),a=s(9509);let l=r.z.object({NODE_ENV:r.z.enum(["development","test","production"]),API_URL:r.z.string().min(1).includes("http"),TRACKING_ID:r.z.string().optional(),TRACKING_URL:r.z.string().includes("http").optional(),DISABLE_IFRAME:r.z.string().optional()}),n=r.z.object({NEXT_PUBLIC_LIVE_URL:r.z.string().min(1).includes("http")}),i={NODE_ENV:"production",API_URL:a.env.API_URL,TRACKING_ID:a.env.TRACKING_ID,TRACKING_URL:a.env.TRACKING_URL,DISABLE_IFRAME:a.env.DISABLE_IFRAME,NEXT_PUBLIC_LIVE_URL:"https://devnm23.github.io"},o="__ENV";l.merge(n);let c=a.env;if("1"!==a.env.SKIP_ENV_VALIDATION){let e=void 0!==window[o]?window[o]:i,t=n.safeParse(e);if(!t.success)throw console.error("❌ Invalid environment variables:",t.error.flatten().fieldErrors),Error("Invalid environment variables");c=new Proxy(t.data,{get(e,t){if("string"==typeof t){if(!t.startsWith("NEXT_PUBLIC_"))throw Error("❌ Attempted to access a server-side environment variable on the client");return e[t]}}})}},5298:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r={src:"/_next/static/media/cloud.rain.6d90acbd.svg",height:23,width:23,blurWidth:0,blurHeight:0}},5428:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r={src:"/_next/static/media/humidity.056985c6.svg",height:12,width:13,blurWidth:0,blurHeight:0}},5977:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(5155),a=s(2596),l=s(5084),n=s(6352);function i(e){let{id:t,className:s,playing:i,loading:o=!1,onClick:c}=e,d={initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5}};return(0,r.jsx)("div",{id:t,className:(0,a.$)("flex h-8 w-8 cursor-pointer items-center justify-center",s),onClick:c,children:(0,r.jsxs)(l.N,{children:[!i&&!o&&(0,r.jsx)(n.P.svg,{initial:d.initial,animate:d.animate,exit:d.exit,width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)(n.P.path,{d:"M12 6.26795C13.3333 7.03775 13.3333 8.96225 12 9.73205L3 14.9282C1.66667 15.698 0 14.7358 0 13.1962L0 2.80385C0 1.26425 1.66667 0.301996 3 1.0718L12 6.26795Z",fill:"white"})}),i&&(0,r.jsxs)(n.P.svg,{initial:d.initial,animate:d.animate,exit:d.exit,width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)(n.P.rect,{x:"7",width:"3",height:"14",rx:"1.5",fill:"white"}),(0,r.jsx)(n.P.rect,{width:"3",height:"14",rx:"1.5",fill:"white"})]}),!i&&o&&(0,r.jsxs)(n.P.svg,{initial:d.initial,animate:d.animate,exit:d.exit,width:"24",height:"24",viewBox:"0 0 24 24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{className:"pulse-loading-spinner",cx:"12",cy:"12",r:"0"}),(0,r.jsx)("circle",{className:"pulse-loading-spinner",style:{animationDelay:".6s"},cx:"12",cy:"12",r:"0"})]})]})})}},6455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Y});var r=s(5155),a=s(6352),l=s(5084),n=s(2115),i=s(9959);let o=e=>{let t=atob(e),s=t.length,r=new Uint8Array(s);for(let e=0;e<s;e++)r[e]=t.charCodeAt(e);return JSON.parse((0,i.wS)(r,{to:"string"}))};var c=s(2940);let d=e=>(0,c.utc)(e).local().valueOf();var u=s(2263);let m=()=>{let e=(0,n.useRef)([]);return{set:t=>{e.current=[{data:t,timestamp:Date.now()}]},push:t=>{e.current.push({data:t,timestamp:Date.now()})},pushTimed:(t,s)=>{Number.isFinite(s)&&!(s<0)&&e.current.push({data:t,timestamp:s})},latest:()=>{let t=e.current[e.current.length-1];return t?t.data:null},delayed:t=>{let s=e.current,r=s.length;if(0===r||s[0].timestamp>t)return null;if(s[r-1].timestamp<t)return s[r-1].data;let a=0,l=r-1;for(;a<=l;){let e=Math.floor((a+l)/2);if(s[e].timestamp<=t&&(e===r-1||s[e+1].timestamp>t))return s[e].data;s[e].timestamp<=t?a=e+1:l=e-1}return null},cleanup:t=>{let s=e.current,r=s.length;if(0===r||1===r)return;let a=t-5e3,l=0;for(;l<r&&s[l].timestamp<=a;)l++;l>0&&l<r?e.current=s.slice(l-1):l>=r&&(e.current=[s[r-1]])},maxDelay:()=>e.current.length>0?Math.floor((Date.now()-e.current[0].timestamp)/1e3):0}},x=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),f=(e,t)=>{if(x(e)&&x(t)){let r={...e};for(let[a,l]of Object.entries(t)){var s;r[a]=f(null!=(s=e[a])?s:null,l)}return r}if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(Array.isArray(e)&&x(t)){let s=[...e];for(let[e,r]of Object.entries(t)){let t=parseInt(e);s.splice(t,1,f(s[t],r))}return[...s]}return t},h=()=>{let e=(0,n.useRef)(null),t=m();return{set:s=>{e.current=s,t.set(s)},push:s=>{var r;e.current=f(null!=(r=e.current)?r:{},s),e.current&&t.push(e.current)},latest:t.latest,delayed:t.delayed,cleanup:t.cleanup,maxDelay:t.maxDelay}},p=e=>{let{updateState:t,updatePosition:s,updateCarData:r}=e,a={extrapolatedClock:h(),topThree:h(),timingStats:h(),timingAppData:h(),weatherData:h(),trackStatus:h(),sessionStatus:h(),driverList:h(),raceControlMessages:h(),sessionInfo:h(),sessionData:h(),lapCount:h(),timingData:h(),teamRadio:h(),championshipPrediction:h()},l=m(),i=m(),[c,x]=(0,n.useState)(0),f=(0,n.useRef)(0);u.C.subscribe(e=>e.delay,e=>f.current=e,{fireImmediately:!0});let p=(0,n.useRef)(null),v=()=>{let e=f.current;if(0===e){let e={};Object.keys(a).forEach(t=>{let s=a[t].latest();s&&(e[t]=s)}),t(e);let n=l.latest();n&&r(n);let o=i.latest();o&&s(o)}else{let n=Date.now()-1e3*e;Object.keys(a).forEach(e=>{let s=a[e],r=s.delayed(n);r&&t({[e]:r}),setTimeout(()=>s.cleanup(n),0)});let o=l.delayed(n);o&&(r(o),setTimeout(()=>l.cleanup(n),0));let c=i.delayed(n);c&&(s(c),setTimeout(()=>i.cleanup(n),0))}x(Math.min(...Object.values(a).map(e=>e.maxDelay()).filter(e=>e>0),l.maxDelay(),i.maxDelay()))};return(0,n.useEffect)(()=>(p.current=setInterval(v,200),()=>p.current?clearInterval(p.current):void 0),[]),{handleUpdate:e=>{let{carDataZ:t,positionZ:s,...r}=e;if(Object.keys(a).forEach(e=>{let t=r[e],s=a[e];t&&s.push(t)}),t)for(let e of o(t).Entries)l.pushTimed(e.Cars,d(e.Utc));if(s)for(let e of o(s).Position)i.pushTimed(e.Entries,d(e.Timestamp))},handleInitial:e=>{let{carDataZ:n,positionZ:c,...u}=e;if(t(u),Object.keys(a).forEach(e=>{let t=u[e],s=a[e];t&&s.set(t)}),n){let e=o(n);for(let t of(r(e.Entries[0].Cars),e.Entries))l.pushTimed(t.Cars,d(t.Utc))}if(c){let e=o(c);for(let t of(s(e.Position[0].Entries),e.Position))i.pushTimed(t.Entries,d(t.Timestamp))}},maxDelay:c}},v=()=>{let e=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(window.isSecureContext&&"localhost"!==window.location.hostname&&"wakeLock"in navigator)return navigator.wakeLock.request("screen").then(t=>{e.current=t}),()=>{e.current&&e.current.release()}},[])};var g=s(7852);let j=()=>{let e=(0,g.D$)(),t=(0,g.WG)(),s=(0,g.XG)();return{updateState:t=>e.set(t),updatePosition:e=>t.set(e),updateCarData:e=>s.set(e)}};var b=s(3988);let w=e=>{let{handleInitial:t,handleUpdate:s}=e,[r,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=new EventSource("".concat(b._.NEXT_PUBLIC_LIVE_URL,"/api/sse"));return e.onerror=()=>a(!1),e.onopen=()=>a(!0),e.addEventListener("initial",e=>{t(JSON.parse(e.data))}),e.addEventListener("update",e=>{s(JSON.parse(e.data))}),()=>e.close()},[]),{connected:r}},y=(0,s(5453).v)()(e=>({pinned:!0,opened:!1,close:()=>{e({opened:!1})},open:()=>{e({opened:!0})},pin:()=>{e({pinned:!0,opened:!1})},unpin:()=>{e({pinned:!1,opened:!1})}}));var N=s(5695),C=s(6874),k=s.n(C),D=s(2596);function E(e){let{connected:t}=e;return(0,r.jsx)("div",{className:(0,D.A)("size-3 rounded-full",t?"bg-emerald-500":"animate-pulse bg-red-500")})}var S=s(9551),A=s(6766);let I={src:"/_next/static/media/sidebar.871af58a.svg",height:24,width:24,blurWidth:0,blurHeight:0};function _(e){let{className:t,onClick:s}=e;return(0,r.jsx)(a.P.button,{onClick:s,animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileTap:{scale:.9},className:(0,D.A)("flex size-12 cursor-pointer items-center justify-center",t),children:(0,r.jsx)(A.default,{src:I,alt:"sidebar icon",loading:"eager"})})}var P=s(7752);let L=[{href:"/dashboard",name:"Dashboard"},{href:"/dashboard/track-map",name:"Track Map"},{href:"/dashboard/standings",name:"Standings"},{href:"/dashboard/weather",name:"Weather"}];function T(e){let{connected:t}=e,{opened:s,pinned:i}=y(),o=y(e=>e.close),c=y(e=>e.open),d=y(e=>e.pin),m=y(e=>e.unpin),x=(0,u.C)(e=>e.oledMode);return(0,n.useEffect)(()=>{let e=()=>{window.innerWidth<768&&m()};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e,!1)},[m]),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.P.div,{className:"hidden md:block",style:{width:216},animate:{width:i?216:8}}),(0,r.jsx)(l.N,{children:s&&(0,r.jsx)(a.P.div,{onTouchEnd:()=>o(),className:"fixed top-0 right-0 bottom-0 left-0 z-30 bg-black/20 backdrop-blur-sm md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})}),(0,r.jsx)(a.P.div,{className:"no-scrollbar fixed top-0 bottom-0 left-0 z-40 flex overflow-y-auto",onHoverEnd:i?void 0:()=>o(),onHoverStart:i?void 0:()=>c(),animate:{left:i||s?0:-216},transition:{type:"spring",bounce:.1},children:(0,r.jsxs)("nav",{className:(0,D.A)("m-2 flex w-52 flex-col p-2",{"rounded-lg border border-zinc-800":!i,"bg-black":x,"bg-zinc-950":!x}),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(S.A,{saveDelay:500}),(0,r.jsx)(P.A,{}),(0,r.jsx)(E,{connected:t})]}),(0,r.jsx)(_,{className:"hidden md:flex",onClick:()=>i?m():d()}),(0,r.jsx)(_,{className:"md:hidden",onClick:()=>o()})]}),(0,r.jsx)("p",{className:"p-2 text-sm text-zinc-500",children:"Live Timing"}),(0,r.jsx)("div",{className:"flex flex-col gap-1",children:L.map(e=>(0,r.jsx)(R,{item:e},e.href))}),(0,r.jsx)("p",{className:"mt-4 p-2 text-sm text-zinc-500",children:"General"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(R,{item:{href:"/dashboard/settings",name:"Settings"}}),(0,r.jsx)(R,{target:"_blank",item:{href:"/schedule",name:"Schedule"}}),(0,r.jsx)(R,{target:"_blank",item:{href:"/help",name:"Help"}}),(0,r.jsx)(R,{target:"_blank",item:{href:"/",name:"Home"}})]}),(0,r.jsx)("p",{className:"mt-4 p-2 text-sm text-zinc-500",children:"Links"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(R,{target:"_blank",item:{href:"https://github.com/slowlydev/f1-dash",name:"Github"}}),(0,r.jsx)(R,{target:"_blank",item:{href:"https://discord.gg/unJwu66NuB",name:"Discord"}}),(0,r.jsx)(R,{target:"_blank",item:{href:"https://buymeacoffee.com/slowlydev",name:"Buy me a coffee"}}),(0,r.jsx)(R,{target:"_blank",item:{href:"https://github.com/sponsors/slowlydev",name:"Sponsor me"}})]})]})})]})}let R=e=>{let{target:t,item:s}=e,a=(0,N.usePathname)()===s.href;return(0,r.jsx)(k(),{href:s.href,target:t,children:(0,r.jsx)("div",{className:(0,D.A)("rounded-lg p-1 px-2 hover:bg-zinc-900",{"bg-zinc-800!":a}),children:s.name})})};var z=s(1638);let F=e=>{switch(e){case"Sprint Qualifying":return"SQ";case"Qualifying":return"Q";default:return""}};function M(){var e;let t=(0,g.D$)(e=>null==e?void 0:e.extrapolatedClock),s=(0,g.D$)(e=>e.sessionInfo),a=(0,g.D$)(e=>e.timingData),l=(0,u.C)(e=>e.delay),n=t&&t.remaining?t.extrapolating?(0,c.utc)((0,c.duration)(t.remaining).subtract((0,c.utc)().diff((0,c.utc)(t.utc))).asMilliseconds()+(l?1e3*l:0)).format("HH:mm:ss"):t.remaining:void 0;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(z.A,{countryCode:null==s?void 0:s.meeting.country.code}),(0,r.jsxs)("div",{className:"flex flex-col justify-center",children:[s?(0,r.jsxs)("h1",{className:"truncate text-sm leading-none font-medium text-white",children:[s.meeting.name,": ",null!=(e=s.name)?e:"Unknown",(null==a?void 0:a.sessionPart)?" ".concat(F(s.name)).concat(a.sessionPart):""]}):(0,r.jsx)("div",{className:"h-4 w-[250px] animate-pulse rounded-md bg-zinc-800"}),void 0!==n?(0,r.jsx)("p",{className:"text-2xl leading-none font-extrabold",children:n}):(0,r.jsx)("div",{className:"mt-1 h-6 w-[150px] animate-pulse rounded-md bg-zinc-800 font-semibold"})]})]})}function U(e,t,s,r){let a=(r-90)*Math.PI/180;return{x:e+s*Math.cos(a),y:t+s*Math.sin(a)}}function B(e){let{value:t,max:s,gradient:a}=e,l=U(25,25,22.5,function(e,t,s,r){let a=e/r;return -130*(1-a)+130*a}(t,0,0,s));return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",className:"absolute",children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"temperature",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#BFDC30"}),(0,r.jsx)("stop",{offset:"10%",stopColor:"#B3FE00"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#FFE620"}),(0,r.jsx)("stop",{offset:"60%",stopColor:"#FF9500"}),(0,r.jsx)("stop",{offset:"90%",stopColor:"#FA114F"})]}),(0,r.jsxs)("linearGradient",{id:"humidity",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#01DF6E"}),(0,r.jsx)("stop",{offset:"10%",stopColor:"#55CAF1"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#4EBCFA"}),(0,r.jsx)("stop",{offset:"60%",stopColor:"#36A6F9"}),(0,r.jsx)("stop",{offset:"90%",stopColor:"#5855D6"})]})]}),(0,r.jsx)("path",{d:function(e,t,s,r,a){let l=U(25,25,22.5,130),n=U(e,t,s,-130);return["M",l.x,l.y,"A",s,s,0,"1",0,n.x,n.y].join(" ")}(25,25,22.5,-130,130),strokeWidth:5,stroke:"url(#".concat(a,")"),strokeLinecap:"round"}),(0,r.jsx)("circle",{cx:l.x,cy:l.y,z:"10",r:"3.5",fill:"none",stroke:"black",strokeWidth:"3"})]})}function O(e){let{value:t,label:s}=e;return(0,r.jsxs)("div",{className:"relative flex h-[55px] w-[55px] items-center justify-center rounded-full bg-black",children:[(0,r.jsx)(B,{value:t,max:"TRC"===s?60:40,gradient:"temperature"}),(0,r.jsxs)("div",{className:"mt-2 flex flex-col items-center gap-0.5",children:[(0,r.jsx)("p",{className:"flex h-[22px] shrink-0 text-xl leading-[normal] font-medium text-[color:var(--Base-Text,#F2F2F2)] not-italic",children:t}),(0,r.jsx)("p",{className:"flex h-[11px] shrink-0 text-center text-[10px] leading-[normal] font-medium text-[color:var(--Multicolor-Green,#67E151)] not-italic",children:s})]})]})}var G=s(5428);function W(e){let{value:t}=e;return(0,r.jsxs)("div",{className:"relative flex h-[55px] w-[55px] items-center justify-center rounded-full bg-black",children:[(0,r.jsx)(B,{value:t,max:100,gradient:"humidity"}),(0,r.jsxs)("div",{className:"mt-2 flex flex-col items-center gap-0.5",children:[(0,r.jsx)("p",{className:"flex h-[22px] shrink-0 text-xl leading-[normal] font-medium text-[color:var(--Base-Text,#F2F2F2)] not-italic",children:t}),(0,r.jsx)(A.default,{src:G.default,alt:"humidity icon",className:"h-[11px] w-auto"})]})]})}let H=e=>["N","NE","E","SE","S","SW","W","NW"][Math.floor(e/45)%8];function V(e){let{speed:t,directionDeg:s}=e;return(0,r.jsx)("div",{className:"relative flex h-[55px] w-[55px] items-center justify-center rounded-full bg-black",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("p",{className:"text-center text-[10px] leading-none font-medium text-blue-400",children:H(s)}),(0,r.jsx)("p",{className:"text-xl leading-none font-medium text-white",children:t}),(0,r.jsx)("p",{className:"text-center text-[10px] leading-none font-medium text-white",children:"m/s"})]})})}var $=s(9581),K=s(5298);function X(e){let{rain:t}=e;return(0,r.jsx)("div",{className:"relative flex h-[55px] w-[55px] items-center justify-center rounded-full bg-black",children:t?(0,r.jsx)(A.default,{src:$.default,alt:"rain",className:"h-[25px] w-auto"}):(0,r.jsx)(A.default,{src:K.default,alt:"no rain",className:"h-[25px] w-auto"})})}function J(){let e=(0,g.D$)(e=>e.weatherData);return(0,r.jsx)("div",{className:"flex justify-between gap-4",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O,{value:Math.round(parseFloat(e.trackTemp)),label:"TRC"}),(0,r.jsx)(O,{value:Math.round(parseFloat(e.airTemp)),label:"AIR"}),(0,r.jsx)(W,{value:parseFloat(e.humidity)}),(0,r.jsx)(X,{rain:"1"===e.rainfall}),(0,r.jsx)(V,{speed:parseFloat(e.windSpeed),directionDeg:parseInt(e.windDirection)})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Q,{}),(0,r.jsx)(Q,{}),(0,r.jsx)(Q,{}),(0,r.jsx)(Q,{}),(0,r.jsx)(Q,{})]})})}function Q(){return(0,r.jsx)("div",{className:"h-[55px] w-[55px] animate-pulse rounded-full bg-zinc-800"})}var Z=s(6859);function q(){let e=(0,g.D$)(e=>e.lapCount),t=(0,g.D$)(e=>e.trackStatus),s=(0,Z.L)((null==t?void 0:t.status)?parseInt(null==t?void 0:t.status):void 0);return(0,r.jsxs)("div",{className:"flex flex-row items-center gap-4 md:justify-self-end",children:[!!e&&(0,r.jsxs)("p",{className:"text-3xl font-extrabold whitespace-nowrap",children:[null==e?void 0:e.currentLap," / ",null==e?void 0:e.totalLaps]}),s?(0,r.jsx)("div",{className:(0,D.A)("flex h-8 items-center truncate rounded-md px-2",s.color),style:{boxShadow:"0 0 60px 10px ".concat(s.hex)},children:(0,r.jsx)("p",{className:"text-lg font-medium",children:s.message})}):(0,r.jsx)("div",{className:"relative h-8 w-28 animate-pulse overflow-hidden rounded-lg bg-zinc-800"})]})}function Y(e){let{children:t}=e,{handleInitial:s,handleUpdate:l,maxDelay:n}=p(j()),{connected:i}=w({handleInitial:s,handleUpdate:l}),o=(0,u.C)(e=>e.delay),c=o>n;v();let d=(0,g.D$)(e=>{var t;return(null==(t=e.sessionStatus)?void 0:t.status)==="Ends"});return(0,r.jsxs)("div",{className:"flex h-screen w-full md:pt-2 md:pr-2 md:pb-2",children:[(0,r.jsx)(T,{connected:i},"sidebar"),(0,r.jsxs)(a.P.div,{layout:"size",className:"flex h-full w-full flex-1 flex-col md:gap-2",children:[(0,r.jsx)(es,{show:!c||d}),(0,r.jsx)(et,{show:!c||d,connected:i}),(0,r.jsxs)("div",{className:!c||d?"no-scrollbar w-full flex-1 overflow-auto md:rounded-lg":"hidden",children:[(0,r.jsx)(ee,{}),t]}),(0,r.jsxs)("div",{className:c&&!d?"flex h-full flex-1 flex-col items-center justify-center gap-2 border-zinc-800 md:rounded-lg md:border":"hidden",children:[(0,r.jsx)("h1",{className:"my-20 text-center text-5xl font-bold",children:"Syncing..."}),(0,r.jsxs)("p",{children:["Please wait for ",o-n," seconds."]}),(0,r.jsx)("p",{children:"Or make your delay smaller."})]})]})]})}function ee(){return(0,r.jsxs)("div",{className:"flex flex-col divide-y divide-zinc-800 border-b border-zinc-800 md:hidden",children:[(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)(M,{})}),(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)(J,{})})]})}function et(e){let{show:t,connected:s}=e,a=y(e=>e.open);return(0,r.jsxs)("div",{className:"flex w-full items-center justify-between overflow-hidden border-b border-zinc-800 p-2 md:hidden",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(_,{onClick:()=>a()},"mobile"),(0,r.jsx)(S.A,{saveDelay:500}),(0,r.jsx)(P.A,{}),(0,r.jsx)(E,{connected:s})]}),t&&(0,r.jsx)(q,{})]})}function es(e){let{show:t}=e,s=y(e=>e.pinned),n=y(e=>e.pin);return(0,r.jsxs)("div",{className:"hidden w-full flex-row justify-between overflow-hidden rounded-lg border border-zinc-800 p-2 md:flex",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(l.N,{children:[!s&&(0,r.jsx)(_,{className:"shrink-0",onClick:()=>n()},"desktop"),(0,r.jsx)(a.P.div,{layout:"position",children:(0,r.jsx)(M,{})},"session-info")]})}),(0,r.jsx)("div",{className:"hidden md:items-center lg:flex",children:t&&(0,r.jsx)(J,{})}),(0,r.jsx)("div",{className:"flex justify-end",children:t&&(0,r.jsx)(q,{})})]})}},6859:(e,t,s)=>{"use strict";s.d(t,{L:()=>r});let r=e=>{var t;let s={1:{message:"Track Clear",color:"bg-emerald-500",trackColor:"stroke-white",hex:"#34b981"},2:{message:"Yellow Flag",color:"bg-amber-400",trackColor:"stroke-amber-400",bySector:!0,hex:"#fbbf24"},3:{message:"Flag",color:"bg-amber-400",trackColor:"stroke-amber-400",bySector:!0,hex:"#fbbf24"},4:{message:"Safety Car",color:"bg-amber-400",trackColor:"stroke-amber-400",hex:"#fbbf24"},5:{message:"Red Flag",color:"bg-red-500",trackColor:"stroke-red-500",hex:"#ef4444"},6:{message:"VSC Deployed",color:"bg-amber-400",trackColor:"stroke-amber-400",hex:"#fbbf24"},7:{message:"VSC Ending",color:"bg-amber-400",trackColor:"stroke-amber-400",hex:"#fbbf24"}};return e?null!=(t=s[e])?t:s[0]:null}},7752:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(5155),a=s(2115),l=s(2263),n=s(5977);function i(){let e=(0,a.useRef)(null),t=(0,a.useRef)(0),s=(0,l.C)(e=>e.setDelay),i=(0,l.C)(e=>e.delay),o=(0,l.C)(e=>e.setDelayIsPaused),c=(0,l.C)(e=>e.delayIsPaused);return(0,r.jsx)(n.A,{playing:!c,onClick:()=>{c?(e.current&&(clearInterval(e.current),e.current=null),o(!1)):(t.current=Date.now()-1e3*i,e.current=setInterval(()=>{s(Math.floor((Date.now()-t.current)/1e3))},100),o(!0))}})}},7852:(e,t,s)=>{"use strict";s.d(t,{D$:()=>a,WG:()=>n,XG:()=>l});var r=s(5453);let a=(0,r.v)(e=>({heartbeat:null,extrapolatedClock:null,topThree:null,timingStats:null,timingAppData:null,weatherData:null,trackStatus:null,sessionStatus:null,driverList:null,raceControlMessages:null,sessionInfo:null,sessionData:null,lapCount:null,timingData:null,teamRadio:null,championshipPrediction:null,set:t=>{e(t)},update:t=>{e(t)}})),l=(0,r.v)(e=>({carsData:null,set:t=>e({carsData:t})})),n=(0,r.v)(e=>({positions:null,set:t=>e({positions:t})}))},8245:(e,t,s)=>{Promise.resolve().then(s.bind(s,6455))},9551:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(5155),a=s(2596),l=s(2115),n=s(2263);function i(e){let{className:t,saveDelay:s}=e,i=(0,n.C)(e=>e.delay),o=(0,n.C)(e=>e.setDelay),c=(0,n.C)(e=>e.delayIsPaused),[d,u]=(0,l.useState)(i.toString()),m=(0,l.useRef)(null),x=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=d?Math.max(parseInt(d),0):0;o(t),e&&u(t.toString())};(0,l.useEffect)(()=>{c||(m.current&&clearTimeout(m.current),m.current=setTimeout(x,s||0))},[d]),(0,l.useEffect)(()=>{c||u(i.toString())},[c]),(0,l.useEffect)(()=>{c&&u(i.toString())},[i]);let f=e=>{u(e)};return(0,r.jsx)("input",{className:(0,a.A)("w-12 [appearance:textfield] rounded-lg bg-zinc-800 p-1 text-center text-sm disabled:opacity-50 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",t),type:"number",inputMode:"numeric",min:0,placeholder:"0s",value:d,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"==e.code&&x(!0),onBlur:()=>x(!0),disabled:c})}},9581:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r={src:"/_next/static/media/cloud.heavyrain.a3cca7f2.svg",height:23,width:23,blurWidth:0,blurHeight:0}}},e=>{var t=t=>e(e.s=t);e.O(0,[586,33,457,63,874,227,173,441,684,358],()=>t(8245)),_N_E=e.O()}]);